kind: flow
name: domain-lite
description: Quick recon - subdomain discovery and HTTP fingerprinting only
tags: recon, domain, lite
help:
  example_targets: ['example.com', 'hackerone.com']
  usage: osmedeus run -f domain-lite -t example.com

# -----------------------------------------------------------------------------
# PARAMS SECTION
# -----------------------------------------------------------------------------
params:
  - name: enableDnsBruteFocing
    default: "false"

# -----------------------------------------------------------------------------
# DEPENDENCIES SECTION
# -----------------------------------------------------------------------------
dependencies:
  variables:
    - name: Target
      type: domain
      required: true

# -----------------------------------------------------------------------------
# MODULES SECTION
# Execution order with dependencies
# -----------------------------------------------------------------------------
modules:
  # ===========================================================================
  # Phase 1: Subdomain Enumeration
  # ===========================================================================
  - name: enum-subdomain
    path: common/enum-subdomain.yaml

  # ===========================================================================
  # Phase 2: Probing
  # ===========================================================================
  - name: probe-dns
    path: common/probe-dns.yaml
    depends_on:
      - enum-subdomain

  # ===========================================================================
  # Phase 3: Fingerprinting
  # ===========================================================================
  - name: recon-http-fp
    path: common/recon-http-fp.yaml
    depends_on:
      - probe-dns
